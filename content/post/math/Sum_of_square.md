---
date: 2020-03-18
title: 1至n的平方和公式推导
tags: ['Math']
categories: ['Math']
---

高中学过这样一个公式:

$$ 1^2 + 2^2 + ... + n^2 = \frac{n(n + 1)(2n + 1)}{6} $$

当时说这个公式的证明超纲了，先记住。

现在来研究一下怎么证明。

要证明这个公式，先要证明立方差公式。

### 立方差公式

我们知道平方差公式是这样的:

$$ a^2 - b^2 = (a + b)(a - b) $$

这个公式已经滚瓜烂熟了，一眼也能看出来，不需要证明。

立方差公式是这样的:

$$ a^3 - b^3 = (a - b)(a^2 + ab + b^2) $$

怎么证明呢? 我们可以考虑，它应该跟 $ (a - b)^3 $ 有关，因为它分解之后会包含 $ a^3 $ 和 $ b^3 $.

证明如下:

$$ (a - b)^3 = (a - b)^2(a - b) = (a^2 - 2ab + b^2)(a - b) $$

$$  = a^3 - a^2b - 2a^2b + 2ab^2 + ab^2 - b^3 = a^3 - 3a^2b + 3ab^2 - b^3 $$

所以:

$$ a^3 - b^3 = (a - b)^3 + 3a^2b - 3ab^2 = (a - b)^3 + 3ab(a - b) = (a - b)((a - b)^2 + 3ab) $$

$$ = (a - b)(a^2 - 2ab + b^2 + 3ab) = (a - b)(a^2 + ab + b^2) $$

证毕。

### 1 至 n 的平方和公式

有了上面的公式，这里就可以使用一种技巧来证明 1 至 n 的平方和公式。

$$ n^3 - (n - 1)^3 = (n - (n - 1))(n^2 + n(n - 1) + (n - 1)^2) $$
$$                 = n^2 + n^2 - n + n^2 - 2n + 1 = 3n^2 - 3n + 1 $$

$$ (n - 1)^3 - (n - 2)^3 = (n - 1 - (n - 2))((n - 1)^2 + (n - 1)(n - 2) + (n - 2)^2) $$
$$  = (n - 1)^2 + (n - 1)(n - 1 - 1) + (n - 1 - 1)^2 $$
$$  = (n - 1)^2 + (n - 1)^2 - (n - 1) + (n - 1)^2 - 2(n - 1) + 1 $$
$$  = 3(n - 1)^2 - 3(n - 1) + 1 $$

...

$$ 2^3 - 1^3 = 3*2^2 - 3 * 2 + 1 $$

$$ 1^3 - 0^3 = 3*1^2 - 3 * 1 + 1 $$

把上面的式子左右都相加, 得

$$ n^3 - 0^3 = 3(1^2 + 2^2 + ... + n^2) - 3(1 + 2 + ... + n) + n $$

$$ 3(1^2 + 2^2 + 3^2 + ... + n^2) = n^3 + 3(1 + 2 + ... + n) - n $$

$$ 1^2 + 2^2 + ... + n^2 = \frac{n^3 - n}{3} + \frac{(1 + n)n}{2} $$

$$  = \frac{2n^3 - 2n + 3(n + 1)n}{6} = \frac{n(2n^2 + 3n + 1)}{6} = \frac{n(n + 1)(2n + 1)}{6} $$

证毕。
