<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>My C&#43;&#43; coding style - Hank&#39;s Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Hank" />
  <meta name="description" content="Every programmer has his/her own coding style. Time goes by, and my coding style is changing. There following is my note on c&#43;&#43; coding style. I will explain why I want to coding in that style.
Why do I care about my coding style so much? Because I am a virgo.
 Always add a m_ prefix to the members and use this to refer to other member functions in the member function." />

  <meta name="keywords" content="Nodejs, Algorithm, C&#43;&#43;, Docker, NLP, Typescript, Linux, Redis, Mongodb, Leetcode" />






<meta name="generator" content="Hugo 0.30.2" />


<link rel="canonical" href="http://zhengyhn.github.io/post/cpp/2013-09-25-my-c-plus-plus-coding-style/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" href="/favicon.ico" />
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">




<link href="/dist/even.min.css?v=2.7.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">

<meta property="og:title" content="My C&#43;&#43; coding style" />
<meta property="og:description" content="Every programmer has his/her own coding style. Time goes by, and my coding style is changing. There following is my note on c&#43;&#43; coding style. I will explain why I want to coding in that style.
Why do I care about my coding style so much? Because I am a virgo.
 Always add a m_ prefix to the members and use this to refer to other member functions in the member function." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://zhengyhn.github.io/post/cpp/2013-09-25-my-c-plus-plus-coding-style/" />



<meta property="article:published_time" content="2016-05-14T16:35:19&#43;08:00"/>

<meta property="article:modified_time" content="2016-05-14T16:35:19&#43;08:00"/>











<meta itemprop="name" content="My C&#43;&#43; coding style">
<meta itemprop="description" content="Every programmer has his/her own coding style. Time goes by, and my coding style is changing. There following is my note on c&#43;&#43; coding style. I will explain why I want to coding in that style.
Why do I care about my coding style so much? Because I am a virgo.
 Always add a m_ prefix to the members and use this to refer to other member functions in the member function.">


<meta itemprop="datePublished" content="2016-05-14T16:35:19&#43;08:00" />
<meta itemprop="dateModified" content="2016-05-14T16:35:19&#43;08:00" />
<meta itemprop="wordCount" content="776">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="My C&#43;&#43; coding style"/>
<meta name="twitter:description" content="Every programmer has his/her own coding style. Time goes by, and my coding style is changing. There following is my note on c&#43;&#43; coding style. I will explain why I want to coding in that style.
Why do I care about my coding style so much? Because I am a virgo.
 Always add a m_ prefix to the members and use this to refer to other member functions in the member function."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Hank&#39;s blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Hank&#39;s blog</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">My C&#43;&#43; coding style</h1>

      <div class="post-meta">
        <span class="post-time"> 2016-05-14 </span>
        
        <span class="more-meta"> 约 776 字 </span>
        <span class="more-meta"> 预计阅读 4 分钟 </span>
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  
  <div class="post-toc-content">
    
  </div>
</div>

    
    <div class="post-content">
      <p>Every programmer has his/her own coding style. Time goes by, and my coding
style is changing. There following is my note on c++ coding style. I will
explain why I want to coding in that style.</p>

<p>Why do I care about my coding style so much? Because I am a virgo.</p>

<ul>
<li><strong>Always add a <code>m_</code> prefix to the members and use <code>this</code> to refer to
other member functions in the member function.</strong></li>
</ul>

<p>This seems ridiculous. But I prefer. In a member function, there may be
various kinds of variables, such as memeber variables, global variables
and local variables. If we don&rsquo;t add some flag to refer to the member
variables, we will confused when we met a variable. Is it a local variable
or a member variable? For example, there is a statement in a member function.</p>

<pre><code>size1 = size2 + 1;
</code></pre>

<p>How can you know what this statement exactly means? Which <code>size</code> is the
class&rsquo;s size? However, if we write this statement as this,</p>

<pre><code>m_size1 = size2 + 1;
</code></pre>

<p>we can know that we set the class&rsquo;s size be the value of local variable <code>size</code>
plus one. This code is readable and it can relieve the code reader&rsquo;s headache.</p>

<p>For the member functions. When refering to a member function, always use
<code>this</code>.</p>

<pre><code>int *p = this-&gt;next();
</code></pre>

<p>Someone may argue that using <code>this</code> will let use write more code. My
experience told me that the whole world is balanced. You make yourself happy
and your code will make the code readers headache. Instead, you write readable
codes with some extra typing and you will make the code readers happy. This is
a balance and you can balance yourself. I am a so kind man and I always want
those who read my codes be happy. So I will use <code>this</code> always.</p>

<p>Note: In PHP, you must use <code>$this</code> to refer to members. In Python, you must
use <code>self</code> to refer to members. In most of the source code in <strong>Android</strong>,
members in C++ class is always with prefix <code>m_</code> and members in JAVA class is
always with prefix <code>m</code>.</p>

<ul>
<li><strong>Always leave the return type name in a single line.</strong></li>
</ul>

<p>I used to leave the return type name on the left of a function name. The first
time I saw some programmers put them in a single line is the
<a href="http://en.wikipedia.org/wiki/Pintos">Pintos</a> project. I thought it&rsquo;s ugly.
But after I worked on the code of <a href="http://en.wikipedia.org/wiki/Gold_(linker)">Gold</a>,
I changed my mind. I followed the author&rsquo;s style, even in a main function.</p>

<pre><code>int
main(int argc, char *argv[]) { }
</code></pre>

<p>Why do I leave the return value in a line? Because, in many large project, most
of the names of the return types are very long, most of the function names are
very long and most of functions has several parameters which have a long type
name. For example,</p>

<pre><code>std::map&lt;size_t, LinkedList&lt;T&gt; *&gt; *
get_map(const std::string&amp; name, bool is_global=true) const;
</code></pre>

<p>If you don&rsquo;t leave the return type name in a single line, the function
declaration will becomes</p>

<pre><code>std::map&lt;size_t, LinkedList&lt;T&gt; *&gt; * get_map(const std::string&amp; name, bool is_global=true) const;
</code></pre>

<p>which is very very ugly!</p>

<p>If we leave the return type name in a single line, the code readers will see
the return type of the function more quickly. So the code will be more readable.</p>

<p>Someone may argue that it looks more beautiful to leave the return type name on
the left of the function name when the type name is short like this.</p>

<pre><code>int get(size_t index);
</code></pre>

<p>This may be right. But most of the return type name is long in a large project.
So for consistence, I always leave them in a single line.</p>

<ul>
<li><strong>Use <code>return</code> or <code>continue</code> to avoid indentation</strong></li>
</ul>

<p>The code will look ugly when there are many indentations. For example,</p>

<pre><code>if (arr != NULL &amp;&amp; begin &lt; end - 1) {
    ...
    while (top &gt; 0) {
        ...
        for (int i = begin; i &lt; end - 1; ++i) {
            if (arr[i] &lt; arr[pivot]) {
                for (int j = i;  j &lt; end; ++j) {
                    ...
                }
            }
        }
    }
    ...
}
</code></pre>

<p>There are <strong>5</strong> level of indentations, which is very ugly. However, we can use
<code>return</code> and <code>continue</code> to make it look better.</p>

<pre><code>if (arr == NULL || begin &gt;= end - 1) {
    return;
}
...
while (top &gt; 0) {
    ...
    for (int i = begin; i &lt; end - 1; ++i) {
        if (arr[i] &gt;= arr[pivot]) {
            continue;
        }
        for (int j = i;  j &lt; end; ++j) {
            ...
        }
    }
}
...
</code></pre>

<p>Now, it&rsquo;s only <strong>3</strong> level of indentations, which looks more beautiful.
This is an important skills to make my code more beautiful.</p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Hank</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">2016-05-14</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>

    
    
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/images/wechat.jpg">
        <span>微信打赏</span>
      </label>
    
      <label class="qr-code-image" for="reward">
        <img class="image" src="/images/alipay.jpg">
        <span>支付宝打赏</span>
      </label>
  </div>
</div>

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/cpp/2013-07-23-more-consts-enums-inlines-and-less-defines/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">More consts enums inlines and less #defines</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/cpp/2013-08-11-postponing-definitions-instead-of-preponing/">
            <span class="next-text nav-default">Postponing definitions instead of preponing</span>
            <span class="prev-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  

  
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:yuanhang.zheng@qq.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/zhengyhn" class="iconfont icon-github" title="github"></a>
  <a href="http://zhengyhn.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    &copy; 
    2017
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Hank</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>
<script type="text/javascript" src="/dist/even.min.js?v=2.7.0"></script>
  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML'></script>




</body>
</html>
